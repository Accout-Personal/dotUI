---
title: useBattery
description: Track the battery status of a user’s device with useBattery.
---

<ComponentPreview name="hooks/use-battery/demo" />

## Installation

<Steps>
<Step>
  Copy and paste the following code into your project.
</Step>

```ts
// title hooks/use-debounce.ts
import React from "react";

interface BatteryManager extends EventTarget {
  charging: boolean;
  chargingTime: number;
  dischargingTime: number;
  level: number;
}

type NavigatorWithBattery = Navigator & {
  getBattery: () => Promise<BatteryManager>;
};

export function useBattery() {
  const [state, setState] = React.useState<{
    supported: boolean;
    loading: boolean;
    level: number | null;
    charging: boolean | null;
    chargingTime: number | null;
    dischargingTime: number | null;
  }>({
    supported: false,
    loading: true,
    level: null,
    charging: null,
    chargingTime: null,
    dischargingTime: null,
  });

  React.useEffect(() => {
    if (!(navigator as NavigatorWithBattery)) {
      setState((s) => ({
        ...s,
        supported: false,
        loading: false,
      }));
      return;
    }

    let battery: BatteryManager | null;

    const handleChange = () => {
      if (!battery) return;
      setState({
        supported: true,
        loading: false,
        level: battery.level,
        charging: battery.charging,
        chargingTime: battery.chargingTime,
        dischargingTime: battery.dischargingTime,
      });
    };

    void (navigator as NavigatorWithBattery).getBattery().then((b) => {
      battery = b;
      handleChange();

      b.addEventListener("levelchange", handleChange);
      b.addEventListener("chargingchange", handleChange);
      b.addEventListener("chargingtimechange", handleChange);
      b.addEventListener("dischargingtimechange", handleChange);
    });

    return () => {
      if (battery) {
        battery.removeEventListener("levelchange", handleChange);
        battery.removeEventListener("chargingchange", handleChange);
        battery.removeEventListener("chargingtimechange", handleChange);
        battery.removeEventListener("dischargingtimechange", handleChange);
      }
    };
  }, []);

  return state;
}

```

<Step>
  Update the import paths to match your project setup.
</Step>
</Steps>

## Return values

| Name            | Type    | Description                                                                                                                                                  |
| --------------- | ------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| supported       | boolean | Indicates whether the Battery Status API is supported in the user’s browser.                                                                                 |
| loading         | boolean | Indicates if the battery information is still loading.                                                                                                       |
| level           | number  | Represents the level of the system’s battery. 0.0 means that the system’s battery is completely discharged, and 1.0 means the battery is completely charged. |
| charging        | boolean | Represents whether the system’s battery is charging. `true` means the battery is charging, `false` means it’s not.                                           |
| chargingTime    | number  | Represents the time remaining in seconds until the system’s battery is fully charged.                                                                        |
| dischargingTime | number  | Represents the time remaining in seconds until the system’s battery is completely discharged and the system is about to be suspended.                        |
